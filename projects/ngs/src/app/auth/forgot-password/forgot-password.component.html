<div class="flex w-full justify-center p-3">
    <!-- card -->
    <mat-card
        [appearance]="'outlined'"
        class="w-full rounded-lg p-4 md:w-1/2 lg:w-1/3"
    >
        <!-- logo -->
        <ngs-logo />

        <!-- title -->
        <div class="mb-8 mt-4 text-xl font-bold">Mot de passe oublié ?</div>

        <!-- form -->
        <form
            [formGroup]="forgotPwdForm"
            class="flex flex-col justify-center space-y-1"
        >
            <!-- email -->
            <mat-form-field [appearance]="'outline'">
                <mat-label>E-mail</mat-label>
                <mat-icon matPrefix [fontIcon]="'person'" />
                <input
                    type="email"
                    matInput
                    [formControlName]="'email'"
                    placeholder="example@mail.io"
                />
                <mat-hint>
                    Vous receverez un e-mail pour réinitialiser votre mot de passe uniquement
                    si vous êtes déjà inscrit.</mat-hint
                >
                <mat-error>
                    {{ getError(forgotPwdForm.get('email'), 'email') }}
                </mat-error>
            </mat-form-field>

            <!-- redirects  -->
            <div class="flex flex-row justify-end">
                <button mat-button [routerLink]="['../..', 'auth', 'login']">
                    Connexion
                </button>
            </div>
        </form>

        <!-- submit -->
        <button
            class="mt-4"
            [disabled]="isFormDisabled"
            mat-flat-button
            (click)="forgotPassword()"
        >
            @if (isSpin()) {
                <mat-progress-spinner [mode]="'indeterminate'" diameter="30" />
            } @else {
                Réinitialiser
            }
        </button>
    </mat-card>
</div>
